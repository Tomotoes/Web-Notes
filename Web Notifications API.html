<!DOCTYPE html>
<html lang="zh">

	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>Document</title>
	</head>

	<body>
		<!--
			Notification API 是浏览器的通知接口，用于在用户的桌面（而不是网页上）显示通知信息。
			
			【Notification.permission】
			用于读取用户给予的权限，它是一个只读属性，它有三种状态。
			default：用户还没有做出任何许可，因此不会弹出通知。
			granted：用户明确同意接收通知。
			denied：用户明确拒绝接收通知。
			
			【Notification.requestPermission】
			Notification.requestPermission方法用于让用户做出选择，到底是否接收通知。
			它的参数是一个回调函数，该函数可以接收用户授权状态作为参数。
			
			【var notification = new Notification(title, options);】
			Notification构造函数的title属性是必须的，用来指定通知的标题，格式为字符串。
			options属性是可选的，格式为一个对象，用来设定各种设置。该对象的属性如下：

			dir：文字方向，可能的值为 auto、ltr（从左到右）和rtl（从右到左），一般是继承浏览器的设置。
			lang：使用的语种，比如 en-US、zh-CN。
			body：通知内容，格式为字符串，用来进一步说明通知的目的。。
			tag：通知的id 字符串 一组相同tag的通知 不会同时显示，只会在用户关闭前一个通知后，在原位置显示。
			icon：图标的 URL，用来显示在通知上。
			
			【事件】
			Notification 实例会触发以下事件。

			show：通知显示给用户时触发。
			click：用户点击通知时触发。
			close：用户关闭通知时触发。
			error：通知出错时触发（大多数发生在通知无法正确显示时）。
			这些事件有对应的onshow、onclick、onclose、onerror方法，
			用来指定相应的回调函数。addEventListener方法也可以用来为这些事件指定回调函数。
			
			【close】
			Notification实例的close方法用于关闭通知。
			var n = new Notification("Hi!");
			n.close();// 手动关闭
		-->
		<script type="text/javascript">
			if(window.Notification) {//如果当前浏览器支持该API
				
				Notification.requestPermission(status=>{//发送窗口请求
					
					if(status==="granted"){//用户同意显示窗口
						
						//实例出一个通知窗口的对象
						let n = new Notification("标题",{body:"内容"});//格式为对象！
						
						//添加onshow的回调函数
						n.onshow=()=>alert(1);
						
						//当点击窗口时 关闭窗口
						n.onclick=()=>n.close();
					}
				})
			} else {
				//不支持
			}
		</script>
	</body>

</html>